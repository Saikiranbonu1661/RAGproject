{"ast":null,"code":"var _jsxFileName = \"/home/saikiranbonu/Pythonprojects/sampleprojects/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Sidebar from './components/Sidebar';\nimport ChatInterface from './components/ChatInterface';\nimport api from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [sessionId, setSessionId] = useState(null);\n  const [documents, setDocuments] = useState([]);\n  const [totalChunks, setTotalChunks] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Initialize session on mount\n  useEffect(() => {\n    const initSession = async () => {\n      try {\n        const response = await api.createSession();\n        setSessionId(response.data.session_id);\n\n        // Add welcome message\n        setMessages([{\n          role: 'assistant',\n          content: 'Hello! Upload documents to get started. I\\'ll answer questions based on your uploaded documents.',\n          timestamp: new Date().toISOString()\n        }]);\n      } catch (error) {\n        console.error('Error creating session:', error);\n      }\n    };\n    initSession();\n  }, []);\n\n  // Handle document upload\n  const handleUpload = async files => {\n    setLoading(true);\n    try {\n      const uploadedDocs = [];\n      for (const file of files) {\n        const response = await api.uploadDocument(file, sessionId);\n        uploadedDocs.push(response.data.document);\n\n        // Update total chunks\n        setTotalChunks(response.data.total_chunks);\n      }\n      setDocuments(prev => [...prev, ...uploadedDocs]);\n\n      // Add system message\n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: `âœ… Successfully uploaded ${uploadedDocs.length} document(s)`,\n        timestamp: new Date().toISOString()\n      }]);\n    } catch (error) {\n      console.error('Error uploading document:', error);\n      setMessages(prev => {\n        var _error$response, _error$response$data;\n        return [...prev, {\n          role: 'system',\n          content: `âŒ Error uploading document: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message}`,\n          timestamp: new Date().toISOString()\n        }];\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle sending query\n  const handleSendMessage = async question => {\n    if (!question.trim() || documents.length === 0) return;\n\n    // Add user message\n    const userMessage = {\n      role: 'user',\n      content: question,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    try {\n      const response = await api.query(question, sessionId);\n\n      // Add assistant message\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.answer,\n        sources: response.data.sources,\n        token_usage: response.data.token_usage,\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Error querying:', error);\n      setMessages(prev => {\n        var _error$response2, _error$response2$data;\n        return [...prev, {\n          role: 'system',\n          content: `âŒ Error: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message}`,\n          timestamp: new Date().toISOString()\n        }];\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle document deletion\n  const handleDeleteDocument = async documentId => {\n    try {\n      await api.deleteDocument(sessionId, documentId);\n      setDocuments(prev => prev.filter(doc => doc.id !== documentId));\n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: 'ðŸ—‘ï¸ Document deleted',\n        timestamp: new Date().toISOString()\n      }]);\n    } catch (error) {\n      console.error('Error deleting document:', error);\n    }\n  };\n\n  // Handle clear all\n  const handleClearAll = async () => {\n    if (window.confirm('Clear all documents and chat history?')) {\n      try {\n        await api.deleteSession(sessionId);\n\n        // Create new session\n        const response = await api.createSession();\n        setSessionId(response.data.session_id);\n        setDocuments([]);\n        setTotalChunks(0);\n        setMessages([{\n          role: 'assistant',\n          content: 'Session cleared. Upload documents to start fresh!',\n          timestamp: new Date().toISOString()\n        }]);\n      } catch (error) {\n        console.error('Error clearing session:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      documents: documents,\n      totalChunks: totalChunks,\n      onUpload: handleUpload,\n      onDeleteDocument: handleDeleteDocument,\n      onClearAll: handleClearAll,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatInterface, {\n      messages: messages,\n      onSendMessage: handleSendMessage,\n      loading: loading,\n      hasDocuments: documents.length > 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"m3FL5n81QFxBDQ5VAkhblXXjrTA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","ChatInterface","api","jsxDEV","_jsxDEV","App","_s","sessionId","setSessionId","documents","setDocuments","totalChunks","setTotalChunks","messages","setMessages","loading","setLoading","initSession","response","createSession","data","session_id","role","content","timestamp","Date","toISOString","error","console","handleUpload","files","uploadedDocs","file","uploadDocument","push","document","total_chunks","prev","length","_error$response","_error$response$data","detail","message","handleSendMessage","question","trim","userMessage","query","assistantMessage","answer","sources","token_usage","_error$response2","_error$response2$data","handleDeleteDocument","documentId","deleteDocument","filter","doc","id","handleClearAll","window","confirm","deleteSession","className","children","onUpload","onDeleteDocument","onClearAll","fileName","_jsxFileName","lineNumber","columnNumber","onSendMessage","hasDocuments","_c","$RefreshReg$"],"sources":["/home/saikiranbonu/Pythonprojects/sampleprojects/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Sidebar from './components/Sidebar';\nimport ChatInterface from './components/ChatInterface';\nimport api from './services/api';\n\nfunction App() {\n  const [sessionId, setSessionId] = useState(null);\n  const [documents, setDocuments] = useState([]);\n  const [totalChunks, setTotalChunks] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Initialize session on mount\n  useEffect(() => {\n    const initSession = async () => {\n      try {\n        const response = await api.createSession();\n        setSessionId(response.data.session_id);\n        \n        // Add welcome message\n        setMessages([{\n          role: 'assistant',\n          content: 'Hello! Upload documents to get started. I\\'ll answer questions based on your uploaded documents.',\n          timestamp: new Date().toISOString()\n        }]);\n      } catch (error) {\n        console.error('Error creating session:', error);\n      }\n    };\n    \n    initSession();\n  }, []);\n\n  // Handle document upload\n  const handleUpload = async (files) => {\n    setLoading(true);\n    \n    try {\n      const uploadedDocs = [];\n      \n      for (const file of files) {\n        const response = await api.uploadDocument(file, sessionId);\n        uploadedDocs.push(response.data.document);\n        \n        // Update total chunks\n        setTotalChunks(response.data.total_chunks);\n      }\n      \n      setDocuments(prev => [...prev, ...uploadedDocs]);\n      \n      // Add system message\n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: `âœ… Successfully uploaded ${uploadedDocs.length} document(s)`,\n        timestamp: new Date().toISOString()\n      }]);\n      \n    } catch (error) {\n      console.error('Error uploading document:', error);\n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: `âŒ Error uploading document: ${error.response?.data?.detail || error.message}`,\n        timestamp: new Date().toISOString()\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle sending query\n  const handleSendMessage = async (question) => {\n    if (!question.trim() || documents.length === 0) return;\n    \n    // Add user message\n    const userMessage = {\n      role: 'user',\n      content: question,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    \n    setLoading(true);\n    \n    try {\n      const response = await api.query(question, sessionId);\n      \n      // Add assistant message\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.answer,\n        sources: response.data.sources,\n        token_usage: response.data.token_usage,\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      \n    } catch (error) {\n      console.error('Error querying:', error);\n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: `âŒ Error: ${error.response?.data?.detail || error.message}`,\n        timestamp: new Date().toISOString()\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle document deletion\n  const handleDeleteDocument = async (documentId) => {\n    try {\n      await api.deleteDocument(sessionId, documentId);\n      setDocuments(prev => prev.filter(doc => doc.id !== documentId));\n      \n      setMessages(prev => [...prev, {\n        role: 'system',\n        content: 'ðŸ—‘ï¸ Document deleted',\n        timestamp: new Date().toISOString()\n      }]);\n    } catch (error) {\n      console.error('Error deleting document:', error);\n    }\n  };\n\n  // Handle clear all\n  const handleClearAll = async () => {\n    if (window.confirm('Clear all documents and chat history?')) {\n      try {\n        await api.deleteSession(sessionId);\n        \n        // Create new session\n        const response = await api.createSession();\n        setSessionId(response.data.session_id);\n        setDocuments([]);\n        setTotalChunks(0);\n        setMessages([{\n          role: 'assistant',\n          content: 'Session cleared. Upload documents to start fresh!',\n          timestamp: new Date().toISOString()\n        }]);\n      } catch (error) {\n        console.error('Error clearing session:', error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Sidebar\n        documents={documents}\n        totalChunks={totalChunks}\n        onUpload={handleUpload}\n        onDeleteDocument={handleDeleteDocument}\n        onClearAll={handleClearAll}\n        loading={loading}\n      />\n      <ChatInterface\n        messages={messages}\n        onSendMessage={handleSendMessage}\n        loading={loading}\n        hasDocuments={documents.length > 0}\n      />\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}